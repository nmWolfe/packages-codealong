var me=(i,o)=>()=>(o||i((o={exports:{}}).exports,o),o.exports);var xe=me((Ie,j)=>{(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))f(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const S of h.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&f(S)}).observe(document,{childList:!0,subtree:!0});function p(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function f(c){if(c.ep)return;c.ep=!0;const h=p(c);fetch(c.href,h)}})();var j={};(function i(o,p,f,c){var h=!!(o.Worker&&o.Blob&&o.Promise&&o.OffscreenCanvas&&o.OffscreenCanvasRenderingContext2D&&o.HTMLCanvasElement&&o.HTMLCanvasElement.prototype.transferControlToOffscreen&&o.URL&&o.URL.createObjectURL);function S(){}function D(t){var e=p.exports.Promise,b=e!==void 0?e:o.Promise;return typeof b=="function"?new b(t):(t(S,S),null)}var a=function(){var t=Math.floor(16.666666666666668),e,b,g={},x=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(w){var v=Math.random();return g[v]=requestAnimationFrame(function m(P){x===P||x+t-1<P?(x=P,delete g[v],w()):g[v]=requestAnimationFrame(m)}),v},b=function(w){g[w]&&cancelAnimationFrame(g[w])}):(e=function(w){return setTimeout(w,t)},b=function(w){return clearTimeout(w)}),{frame:e,cancel:b}}(),r=function(){var t,e,b={};function g(x){function w(v,m){x.postMessage({options:v||{},callback:m})}x.init=function(m){var P=m.transferControlToOffscreen();x.postMessage({canvas:P},[P])},x.fire=function(m,P,U){if(e)return w(m,null),e;var E=Math.random().toString(36).slice(2);return e=D(function(A){function z(I){I.data.callback===E&&(delete b[E],x.removeEventListener("message",z),e=null,U(),A())}x.addEventListener("message",z),w(m,E),b[E]=z.bind(null,{data:{callback:E}})}),e},x.reset=function(){x.postMessage({reset:!0});for(var m in b)b[m](),delete b[m]}}return function(){if(t)return t;if(!f&&h){var x=["var CONFETTI, SIZE = {}, module = {};","("+i.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{t=new Worker(URL.createObjectURL(new Blob([x])))}catch(w){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",w),null}g(t)}return t}}(),s={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function l(t,e){return e?e(t):t}function u(t){return t!=null}function n(t,e,b){return l(t&&u(t[e])?t[e]:s[e],b)}function y(t){return t<0?0:Math.floor(t)}function C(t,e){return Math.floor(Math.random()*(e-t))+t}function d(t){return parseInt(t,16)}function T(t){return t.map(M)}function M(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:d(e.substring(0,2)),g:d(e.substring(2,4)),b:d(e.substring(4,6))}}function F(t){var e=n(t,"origin",Object);return e.x=n(e,"x",Number),e.y=n(e,"y",Number),e}function L(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function O(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function _(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}function k(t,e,b,g,x,w,v,m,P){t.save(),t.translate(e,b),t.rotate(w),t.scale(g,x),t.arc(0,0,1,v,m,P),t.restore()}function W(t){var e=t.angle*(Math.PI/180),b=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*b-Math.random()*b),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar}}function R(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.wobble+=e.wobbleSpeed,e.velocity*=e.decay,e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble);var b=e.tick++/e.totalTicks,g=e.x+e.random*e.tiltCos,x=e.y+e.random*e.tiltSin,w=e.wobbleX+e.random*e.tiltCos,v=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-b)+")",t.beginPath(),e.shape==="circle")t.ellipse?t.ellipse(e.x,e.y,Math.abs(w-g)*e.ovalScalar,Math.abs(v-x)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):k(t,e.x,e.y,Math.abs(w-g)*e.ovalScalar,Math.abs(v-x)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var m=Math.PI/2*3,P=4*e.scalar,U=8*e.scalar,E=e.x,A=e.y,z=5,I=Math.PI/z;z--;)E=e.x+Math.cos(m)*U,A=e.y+Math.sin(m)*U,t.lineTo(E,A),m+=I,E=e.x+Math.cos(m)*P,A=e.y+Math.sin(m)*P,t.lineTo(E,A),m+=I;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(x)),t.lineTo(Math.floor(w),Math.floor(v)),t.lineTo(Math.floor(g),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}function q(t,e,b,g,x){var w=e.slice(),v=t.getContext("2d"),m,P,U=D(function(E){function A(){m=P=null,v.clearRect(0,0,g.width,g.height),x(),E()}function z(){f&&!(g.width===c.width&&g.height===c.height)&&(g.width=t.width=c.width,g.height=t.height=c.height),!g.width&&!g.height&&(b(t),g.width=t.width,g.height=t.height),v.clearRect(0,0,g.width,g.height),w=w.filter(function(I){return R(v,I)}),w.length?m=a.frame(z):A()}m=a.frame(z),P=A});return{addFettis:function(E){return w=w.concat(E),U},canvas:t,promise:U,reset:function(){m&&a.cancel(m),P&&P()}}}function N(t,e){var b=!t,g=!!n(e||{},"resize"),x=n(e,"disableForReducedMotion",Boolean),w=h&&!!n(e||{},"useWorker"),v=w?r():null,m=b?L:O,P=t&&v?!!t.__confetti_initialized:!1,U=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,E;function A(I,Q,J){for(var $=n(I,"particleCount",y),H=n(I,"angle",Number),G=n(I,"spread",Number),X=n(I,"startVelocity",Number),ce=n(I,"decay",Number),le=n(I,"gravity",Number),he=n(I,"drift",Number),oe=n(I,"colors",T),fe=n(I,"ticks",Number),ae=n(I,"shapes"),de=n(I,"scalar"),ie=F(I),se=$,ee=[],ge=t.width*ie.x,ve=t.height*ie.y;se--;)ee.push(W({x:ge,y:ve,angle:H,spread:G,startVelocity:X,color:oe[se%oe.length],shape:ae[C(0,ae.length)],ticks:fe,decay:ce,gravity:le,drift:he,scalar:de}));return E?E.addFettis(ee):(E=q(t,ee,m,Q,J),E.promise)}function z(I){var Q=x||n(I,"disableForReducedMotion",Boolean),J=n(I,"zIndex",Number);if(Q&&U)return D(function(X){X()});b&&E?t=E.canvas:b&&!t&&(t=_(J),document.body.appendChild(t)),g&&!P&&m(t);var $={width:t.width,height:t.height};v&&!P&&v.init(t),P=!0,v&&(t.__confetti_initialized=!0);function H(){if(v){var X={getBoundingClientRect:function(){if(!b)return t.getBoundingClientRect()}};m(X),v.postMessage({resize:{width:X.width,height:X.height}});return}$.width=$.height=null}function G(){E=null,g&&o.removeEventListener("resize",H),b&&t&&(document.body.removeChild(t),t=null,P=!1)}return g&&o.addEventListener("resize",H,!1),v?v.fire(I,$,G):A(I,$,G)}return z.reset=function(){v&&v.reset(),E&&E.reset()},z}var V;function ne(){return V||(V=N(null,{useWorker:!0,resize:!0})),V}p.exports=function(){return ne().apply(this,arguments)},p.exports.reset=function(){ne().reset()},p.exports.create=N})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),j,!1);const pe=j.exports;j.exports.create;var te=function(i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=i.width,this.height=this.canvas.height=i.height,this.context.drawImage(i,0,0,this.width,this.height)};te.prototype.getPixelCount=function(){return this.width*this.height},te.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var Y=function(){};if(Y.prototype.getColor=function(i,o){return this.getPalette(i,5,o)[0]},Y.prototype.getPalette=function(i,o,p){(o===void 0||o<2||o>256)&&(o=10),(p===void 0||p<1)&&(p=10);for(var f,c,h,S,D=new te(i),a=D.getImageData().data,r=D.getPixelCount(),s=[],l=0;l<r;l+=p)c=a[0+(f=4*l)],h=a[f+1],S=a[f+2],a[f+3]>=125&&(c>250&&h>250&&S>250||s.push([c,h,S]));var u=be.quantize(s,o);return u?u.palette():null},Y.prototype.getColorFromUrl=function(i,o,p){var f=document.createElement("img"),c=this;f.addEventListener("load",function(){var h=c.getPalette(f,5,p);o(h[0],i)}),f.src=i},Y.prototype.getImageData=function(i,o){var p=new XMLHttpRequest;p.open("GET",i,!0),p.responseType="arraybuffer",p.onload=function(){if(this.status==200){var f=new Uint8Array(this.response);h=f.length;for(var c=new Array(h),h=0;h<f.length;h++)c[h]=String.fromCharCode(f[h]);var S=c.join(""),D=window.btoa(S);o("data:image/png;base64,"+D)}},p.send()},Y.prototype.getColorAsync=function(i,o,p){var f=this;this.getImageData(i,function(c){var h=document.createElement("img");h.addEventListener("load",function(){var S=f.getPalette(h,5,p);o(S[0],this)}),h.src=c})},!B)var B={map:function(i,o){var p={};return o?i.map(function(f,c){return p.index=c,o.call(p,f)}):i.slice()},naturalOrder:function(i,o){return i<o?-1:i>o?1:0},sum:function(i,o){var p={};return i.reduce(o?function(f,c,h){return p.index=h,f+o.call(p,c)}:function(f,c){return f+c},0)},max:function(i,o){return Math.max.apply(null,o?B.map(i,o):i)}};var be=function(){var i=5,o=8-i,p=1e3;function f(a,r,s){return(a<<2*i)+(r<<i)+s}function c(a){var r=[],s=!1;function l(){r.sort(a),s=!0}return{push:function(u){r.push(u),s=!1},peek:function(u){return s||l(),u===void 0&&(u=r.length-1),r[u]},pop:function(){return s||l(),r.pop()},size:function(){return r.length},map:function(u){return r.map(u)},debug:function(){return s||l(),r}}}function h(a,r,s,l,u,n,y){this.r1=a,this.r2=r,this.g1=s,this.g2=l,this.b1=u,this.b2=n,this.histo=y}function S(){this.vboxes=new c(function(a,r){return B.naturalOrder(a.vbox.count()*a.vbox.volume(),r.vbox.count()*r.vbox.volume())})}function D(a,r){if(r.count()){var s=r.r2-r.r1+1,l=r.g2-r.g1+1,u=B.max([s,l,r.b2-r.b1+1]);if(r.count()==1)return[r.copy()];var n,y,C,d,T=0,M=[],F=[];if(u==s)for(n=r.r1;n<=r.r2;n++){for(d=0,y=r.g1;y<=r.g2;y++)for(C=r.b1;C<=r.b2;C++)d+=a[f(n,y,C)]||0;M[n]=T+=d}else if(u==l)for(n=r.g1;n<=r.g2;n++){for(d=0,y=r.r1;y<=r.r2;y++)for(C=r.b1;C<=r.b2;C++)d+=a[f(y,n,C)]||0;M[n]=T+=d}else for(n=r.b1;n<=r.b2;n++){for(d=0,y=r.r1;y<=r.r2;y++)for(C=r.g1;C<=r.g2;C++)d+=a[f(y,C,n)]||0;M[n]=T+=d}return M.forEach(function(L,O){F[O]=T-L}),function(L){var O,_,k,W,R,q=L+"1",N=L+"2",V=0;for(n=r[q];n<=r[N];n++)if(M[n]>T/2){for(k=r.copy(),W=r.copy(),R=(O=n-r[q])<=(_=r[N]-n)?Math.min(r[N]-1,~~(n+_/2)):Math.max(r[q],~~(n-1-O/2));!M[R];)R++;for(V=F[R];!V&&M[R-1];)V=F[--R];return k[N]=R,W[q]=k[N]+1,[k,W]}}(u==s?"r":u==l?"g":"b")}}return h.prototype={volume:function(a){return this._volume&&!a||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(a){var r=this.histo;if(!this._count_set||a){var s,l,u,n=0;for(s=this.r1;s<=this.r2;s++)for(l=this.g1;l<=this.g2;l++)for(u=this.b1;u<=this.b2;u++)n+=r[f(s,l,u)]||0;this._count=n,this._count_set=!0}return this._count},copy:function(){return new h(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(a){var r=this.histo;if(!this._avg||a){var s,l,u,n,y=0,C=1<<8-i,d=0,T=0,M=0;for(l=this.r1;l<=this.r2;l++)for(u=this.g1;u<=this.g2;u++)for(n=this.b1;n<=this.b2;n++)y+=s=r[f(l,u,n)]||0,d+=s*(l+.5)*C,T+=s*(u+.5)*C,M+=s*(n+.5)*C;this._avg=y?[~~(d/y),~~(T/y),~~(M/y)]:[~~(C*(this.r1+this.r2+1)/2),~~(C*(this.g1+this.g2+1)/2),~~(C*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(a){var r=a[0]>>o,s=a[1]>>o,l=a[2]>>o;return r>=this.r1&&r<=this.r2&&s>=this.g1&&s<=this.g2&&l>=this.b1&&l<=this.b2}},S.prototype={push:function(a){this.vboxes.push({vbox:a,color:a.avg()})},palette:function(){return this.vboxes.map(function(a){return a.color})},size:function(){return this.vboxes.size()},map:function(a){for(var r=this.vboxes,s=0;s<r.size();s++)if(r.peek(s).vbox.contains(a))return r.peek(s).color;return this.nearest(a)},nearest:function(a){for(var r,s,l,u=this.vboxes,n=0;n<u.size();n++)((s=Math.sqrt(Math.pow(a[0]-u.peek(n).color[0],2)+Math.pow(a[1]-u.peek(n).color[1],2)+Math.pow(a[2]-u.peek(n).color[2],2)))<r||r===void 0)&&(r=s,l=u.peek(n).color);return l},forcebw:function(){var a=this.vboxes;a.sort(function(u,n){return B.naturalOrder(B.sum(u.color),B.sum(n.color))});var r=a[0].color;r[0]<5&&r[1]<5&&r[2]<5&&(a[0].color=[0,0,0]);var s=a.length-1,l=a[s].color;l[0]>251&&l[1]>251&&l[2]>251&&(a[s].color=[255,255,255])}},{quantize:function(a,r){if(!a.length||r<2||r>256)return!1;var s=function(d){var T,M=new Array(1<<3*i);return d.forEach(function(F){T=f(F[0]>>o,F[1]>>o,F[2]>>o),M[T]=(M[T]||0)+1}),M}(a);s.forEach(function(){});var l=function(d,T){var M,F,L,O=1e6,_=0,k=1e6,W=0,R=1e6,q=0;return d.forEach(function(N){(M=N[0]>>o)<O?O=M:M>_&&(_=M),(F=N[1]>>o)<k?k=F:F>W&&(W=F),(L=N[2]>>o)<R?R=L:L>q&&(q=L)}),new h(O,_,k,W,R,q,T)}(a,s),u=new c(function(d,T){return B.naturalOrder(d.count(),T.count())});function n(d,T){for(var M,F=1,L=0;L<p;)if((M=d.pop()).count()){var O=D(s,M),_=O[0],k=O[1];if(!_||(d.push(_),k&&(d.push(k),F++),F>=T)||L++>p)return}else d.push(M),L++}u.push(l),n(u,.75*r);for(var y=new c(function(d,T){return B.naturalOrder(d.count()*d.volume(),T.count()*T.volume())});u.size();)y.push(u.pop());n(y,r-y.size());for(var C=new S;y.size();)C.push(y.pop());return C}}}();const ye=document.querySelector(".confetti-button"),Z=document.querySelector("#dog-image"),K=document.querySelector(".image-switch");if(!ye||!Z||!K)throw new Error("Query Selector Error");const re=new Y,ue=()=>{const i=re.getColor(Z),o=re.getPalette(Z);console.log(o),document.body.style.backgroundColor=`rgb(${i[0]}, ${i[1]}, ${i[2]})`};Z.complete?ue():Z.addEventListener("load",ue);const we=i=>{const o={particleCount:50,colors:i||["#bada55","#bada55","#bada55"],angle:Math.floor(Math.random()*360),spread:Math.floor(Math.random()*360),shapes:["circle","square","star"],scalar:.5};pe(o)},Me=i=>`rgb(${i[0]}, ${i[1]}, ${i[2]})`,Ce=()=>{if(K.value==="")return;const i=re.getPalette(Z).map(Me);Z.src=K.value,we(i)};K.addEventListener("blur",Ce)});export default xe();
